package com.zxyairings.codelib.io.stream;

import java.io.*;

class MyBufferedInputStream
{
	private InputStream in;

	private byte[] buf = new byte[1024*4];
		
	private int pos = 0,count = 0;
	
	MyBufferedInputStream(InputStream in)
	{
		this.in = in;
	}

	//????????????????????????????????????(????????????)?????????
	public int myRead()throws IOException
	{
		//??????in???????????????????????????????????????buf??????
		if(count==0)
		{
			count = in.read(buf);
			if(count<0)
				return -1;
			pos = 0;
			byte b = buf[pos];

			count--;
			pos++;
			return b&255;
		}
		else if(count>0)
		{
			byte b = buf[pos];

			count--;
			pos++;
			return b&0xff;
		}
		return -1;

	}
	public void myClose()throws IOException
	{
		in.close();
	}
}


/*
11111111-111111110000000000101001001010100101010010101001010


byte: -1  --->  int : -1;
00000000 00000000 00000000 11111111  255

11111111 11111111 11111111 11111111


11111111  -->???????????????int?????? ????????????-1?????????-1?????????????????????8???1???????????????1????????????
???????????????????????????0?????????????????????????????????????????????????????????-1????????????
?????????0??????

 11111111 11111111 11111111 11111111                        
&00000000 00000000 00000000 11111111 
------------------------------------
 00000000 00000000 00000000 11111111 

0000-0001
1111-1110
000000001
1111-1111  -1


??????4??????15
??????8??????255

?????????
??????????????????????????????read????????????????????????????????????byte?????????int???
??????????????????????????????8????????????1????????????8????????????1?????????????????????-1.
????????????????????????????????????????????????????????????????????????????????????????????????????????????-1???????????????
?????????????????????????????????????????????????????????int??????????????????
???????????????????????????????????????????????????24???0????????????int??????????????????


?????????????????????????????????int?????????????????????8??????

read ?????????????????? byte --> int
write ??????????????????  int --> ??????int????????????8??????????????????


*/
